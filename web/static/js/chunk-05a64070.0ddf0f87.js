(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-05a64070"],{3534:function(t,e,r){t.exports=r.p+"assets/img/a61603aa.jpg"},"6bdf":function(t,e,r){"use strict";r.r(e),r("7514");var a=r("967e"),n=r.n(a),i=(r("96cf"),r("3b8d")),o=r("365c"),s=r("7b0a"),u=(r("bb5c"),r("5a0c")),c=r.n(u),l={name:"abnorm_open",components:{},data:function(){return{modal:!1,PicUrl:"",carInDataSummary:{computerControlNum:0,monthCarNum:0,remoteControlNum:0,storeCarNum:0,tempCarNum:0,tempFreeCarNum:0,vipCarNum:0},searchForm:{carNo:"",pageNum:1,pageSize:10},searchFormValidate:{carNo:[{validator:s.k,trigger:"blur"}]},dateTimes:[c()().startOf("day").format("YYYY-MM-DD HH:mm:ss"),c()().endOf("day").format("YYYY-MM-DD HH:mm:ss")],data:[],specialList:[],rulesList:[],colorList:[],total:0,PARK_MODEL:null}},computed:{columns:function(){var t=this,e=[{title:$t("routerMenu.orderNumbNer"),type:"index",minWidth:80,align:"center"},{title:$t("routerMenu.licensePlate"),key:"carNo",minWidth:120,align:"center",renderHeader:function(e,r){var a=r.column,n=r.index;if(t.$refs.table)return e("span",t.$refs.table.$scopedSlots.carNo({column:a,index:n}))}},{title:$t("routerMenu.cardId"),key:"card",minWidth:140,align:"center",renderHeader:function(e,r){var a=r.column,n=r.index;if(t.$refs.table)return e("span",t.$refs.table.$scopedSlots.card({column:a,index:n}))}},{title:$t("routerMenu.openTime"),key:"timeToDay",minWidth:120,align:"center",sortable:!0},{title:$t("routerMenu.channelName"),key:"pass",minWidth:120,align:"center",renderHeader:function(e,r){var a=r.column,n=r.index;if(t.$refs.table)return e("span",t.$refs.table.$scopedSlots.pass({column:a,index:n}))}},{title:$t("routerMenu.openType"),key:"carType",minWidth:120,align:"center",filters:[{value:1,label:$t("routerMenu.teleoperation")},{value:2,label:$t("routerMenu.computer")}],filterMultiple:!1,filterRemote:function(e,r,a){e&&(t.searchForm.carType=e[0],t.handleSearch())}},{title:$t("routerMenu.cause"),key:"",minWidth:150,align:"center",sortable:!0},{title:$t("routerMenu.tollCollector"),key:"user",minWidth:120,align:"center",renderHeader:function(e,r){var a=r.column,n=r.index;if(t.$refs.table)return e("span",t.$refs.table.$scopedSlots.user({column:a,index:n}))}}];return 1==this.PARK_MODEL&&e.splice(2,1),e}},methods:{init:function(){this.loadCarBlackData(),this.getIlleVehicalDataSummary()},trimFormData:function(){this.searchForm.startTime=c()(this.dateTimes[0]).format("YYYY-MM-DD HH:mm:ss"),this.searchForm.endTime=c()(this.dateTimes[1]).format("YYYY-MM-DD HH:mm:ss");var t=JSON.parse(JSON.stringify(this.searchForm));return t.pass&&(t.enterPass=t.pass),t.user&&(t.enterUser=t.user),t},loadCarBlackData:function(){var t=Object(i.a)(n.a.mark((function t(){var e,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getCarParams();case 2:return e=t.sent,this.PARK_MODEL=e.data.PARK_MODEL,t.next=6,o.a.getIllegalRecord(this.trimFormData());case 6:(r=t.sent)&&(r.data.list.map((function(t){0==t.inOut?(t.timeToDay=t.time,t.pass=t.enterPass,t.user=t.enterUser):(t.timeToDay=t.ltime,t.pass=t.leavePass,t.user=t.leaveUser),1==t.carType?t.carType=$t("routerMenu.teleoperation"):t.carType=$t("routerMenu.computer")})),this.data=r.data.list,this.total=r.data.total);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getIlleVehicalDataSummary:function(){var t=Object(i.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getIlleVehicalDataSummary(this.trimFormData(),"non");case 2:(e=t.sent)&&(this.carInDataSummary=e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),showSelect:function(t,e){this.selectList=t},changePage:function(t){this.searchForm.pageNum=t,this.init()},changePageSize:function(t){this.searchForm.pageNum=1,this.searchForm.pageSize=t,this.init()},handleSearch:function(){this.searchForm.pageNum=1,this.searchForm.pageSize=10,this.init()},handleRowClick:function(){var t=Object(i.a)(n.a.mark((function t(e,r){var a,i,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.modal=!0,t.next=3,o.a.getPictureFind("","_",e.uuid);case 3:a=t.sent,s=0==e.inOut?0:4,1==a.status&&a.dataList&&a.dataList.length&&(i=a.dataList.find((function(t){return t.carNumType==s}))),this.PicUrl=i?this.$api.imgUrl+i.relativePath:"";case 7:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),edit:function(t){this.$refs.spEdit.reset(),this.$refs.spEdit.edit(t),this.$refs.spEdit.showModal(1,"编辑")}},mounted:function(){this.init()}},m=r("2877"),d=Object(m.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"i-table-no-border selection"},[a("div",{staticClass:"pageHeader"},[a("h4",[t._v(t._s(t.$t("routerMenu.exceptionOpenRecords")))])]),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-direction":"column"}},[a("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:t.searchForm,rules:t.searchFormValidate,inline:"","label-width":62}},[a("FormItem",{attrs:{prop:"time","label-width":1}},[a("DatePicker",{staticClass:"date-timerange",staticStyle:{"min-width":"315px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:this.$t("routerMenu.pleaseEnterTime"),clearable:!1},model:{value:t.dateTimes,callback:function(e){t.dateTimes=e},expression:"dateTimes"}})],1),a("Form-item",{attrs:{"label-width":1}},[a("Button",{attrs:{type:"primary",icon:"md-search",loading:t.$store.state.loading},on:{click:t.handleSearch}},[t._v(t._s(t.$t("routerMenu.search")))]),a("Button",{staticClass:"ivu-ml-8",attrs:{icon:"md-refresh",loading:t.$store.state.loading},on:{click:function(e){return t.$emit("handleReload")}}},[t._v(t._s(t.$t("routerMenu.resetting")))])],1)],1),a("div",{staticStyle:{color:"#ff9900","font-size":"16px","margin-left":"20px"}},[t._v(t._s(t.$t("routerMenu.viewPicture"))+"\n\t\t\t")])],1),a("Table",{ref:"table",attrs:{loading:t.$store.state.loading,height:t.data.length>=11?520:"",columns:t.columns,data:t.data,sortable:"custom"},on:{"on-current-change":t.showSelect,"on-row-dblclick":t.handleRowClick},scopedSlots:t._u([{key:"carNo",fn:function(e){var r=e.column,n=e.index;return[a("filter-search",{attrs:{isCarNum:!1,column:r,index:n,searchForm:t.searchForm,searchKey:"carNo"},on:{handleSearch:t.handleSearch}})]}},{key:"card",fn:function(e){var r=e.column,n=e.index;return[a("filter-search",{attrs:{column:r,index:n,searchForm:t.searchForm,searchKey:"card"},on:{handleSearch:t.handleSearch}})]}},{key:"pass",fn:function(e){var r=e.column,n=e.index;return[a("filter-search",{attrs:{column:r,index:n,searchForm:t.searchForm,searchKey:"pass"},on:{handleSearch:t.handleSearch}})]}},{key:"user",fn:function(e){var r=e.column,n=e.index;return[a("filter-search",{attrs:{column:r,index:n,searchForm:t.searchForm,searchKey:"user"},on:{handleSearch:t.handleSearch}})]}}])}),a("div",{staticClass:"ivu-mt ivu-text-center"},[a("Page",{attrs:{current:this.searchForm.pageNum,total:t.total,"page-size":this.searchForm.pageSize,"page-size-opts":[10,20,50,100],"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}},[a("span",[t._v(t._s(t.$t("routerMenu.computerNum"))+"："),a("em",{staticStyle:{color:"#f60","font-size":"16px"}},[t._v(t._s(t.carInDataSummary.computerControlNum||0))]),t._v("\n\t\t\t\t\t"+t._s(t.$t("routerMenu.num")))]),a("span",{staticClass:"ml16"},[t._v(t._s(t.$t("routerMenu.teleoperationNum"))+"："),a("em",{staticStyle:{color:"#f60","font-size":"16px"}},[t._v(t._s(t.carInDataSummary.remoteControlNum||0))]),t._v("\n\t\t\t\t\t"+t._s(t.$t("routerMenu.num")))]),a("span",{staticClass:"ivu-page-total",staticStyle:{"margin-left":"14px","margin-right":"0"}},[t._v(t._s(t.$t("routerMenu.total"))+"\n\t\t\t\t\t"+t._s(t.total)+" "+t._s(t.$t("routerMenu.item")))])])],1)],1),a("Modal",{attrs:{title:this.$t("routerMenu.picture"),width:"800"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t.$store.state._loading?a("Spin",{attrs:{fix:""}}):t._e(),a("Row",{staticStyle:{"min-height":"280px"}},[a("Col",{attrs:{span:"24","class-name":"flex flex-center"}},[t.PicUrl?a("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.PicUrl,alt:this.$t("routerMenu.imageLoadingFailed")}}):a("img",{staticStyle:{"max-width":"100%"},attrs:{src:r("3534"),alt:this.$t("routerMenu.imageLoadingFailed")}})])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)}),[],!1,null,null,null);e.default=d.exports},"7b0a":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n})),r.d(e,"j",(function(){return i})),r.d(e,"m",(function(){return o})),r.d(e,"i",(function(){return s})),r.d(e,"l",(function(){return u})),r.d(e,"e",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return m})),r.d(e,"f",(function(){return d})),r.d(e,"k",(function(){return h})),r.d(e,"g",(function(){return f})),r.d(e,"h",(function(){return p})),r("a481"),r("c5f6");var a=function(t,e,r){""===e||null==e?r(new Error($t("routerMenu.error21"))):r()},n=function(t,e,r){!e&&0!==e||null==e?r(new Error($t("routerMenu.error23"))):r()},i=function(t,e,r){!e&&0!==e||/^[0-9]*$/.test(e)?r():r(new Error($t("routerMenu.error27")))},o=function(t,e,r){!e&&0!==e||/^\d+$/.test(e)?r():r(new Error($t("routerMenu.error28")))},s=function(t,e,r){e&&!/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(e.toUpperCase())?r(new Error($t("routerMenu.error32"))):r()},u=function(t,e,r){!e&&0!==e||void 0==e||/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(e)?r():r(new Error($t("routerMenu.error34")))},c=function(t,e,r){(e||0===e)&&/^[0-9]*$/.test(e)&&Number(e)>0?r():r(new Error($t("routerMenu.error35")))},l=function(t,e,r){""!==e&&/^\d+(\.\d+)?$/.test(e)?r():r(new Error($t("routerMenu.error36")))},m=function(t,e,r){(e||0===e)&&0!=e&&/^\d+(\.\d+)?$/.test(e)?r():r(new Error($t("routerMenu.error37")))},d=function(t){return(t||0===t)&&/^[0-9]*$/.test(t)?parseInt(t):0},h=function(t,e,r){e&&e.length<3?r(new Error($t("routerMenu.error39"))):r()},f=function(t,e,r){e&&!/^(254|252|248|240|224|192|128|0)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$/.test(e.toUpperCase())?r(new Error($t("routerMenu.error44"))):r()},p=function(t,e,r){!e&&0!==e||/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(e.toUpperCase())?r():r(new Error($t("routerMenu.error45")))}},bb5c:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return n})),r("ac6a");var a=function(t,e){var r;return e.forEach((function(e){e.dataValue===t&&(r=e.dataName)})),r},n=function(t,e){var r;return e.forEach((function(e){e.type===t&&(r=e.alias)})),r}}}]);