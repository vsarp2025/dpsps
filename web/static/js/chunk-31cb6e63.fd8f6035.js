(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-31cb6e63"],{"9aec":function(t,e,a){"use strict";var r=a("ee31");a.n(r).a},ceea:function(t,e,a){"use strict";a.r(e),a("8e6e"),a("ac6a"),a("456d");var r=a("967e"),s=a.n(r),n=(a("96cf"),a("3b8d")),o=a("bd86"),i=a("5a0c"),c=a.n(i),l=a("2d95"),m=a("365c"),u=a("2f62");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var d={props:["userInfo"],name:"network_set",data:function(){return{nowTime:"",mySetInterval:null,submitLoading:!1,timeOut:60,myTimeOut:null,successTime:!1,paramsForm:{name:"",ipaddr:"",gateWay:"",mac:"",netmask:"",fristDNS:"",secondDNS:"",version:"",isSecs:!0},paramsFormValidate:{}}},mounted:function(){this.timeOut=60,clearInterval(this.myTimeOut),this.openSetIntval(),this.init()},deactivated:function(){clearInterval(this.myTimeOut),clearInterval(this.mySetInterval)},beforeDestroy:function(){clearInterval(this.myTimeOut),clearInterval(this.mySetInterval),this.timeOut=60},methods:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(u.d)(["setBreadCrumb","setTagNavList","addTag","setLocal","setHomeRoute","closeTag"]),{init:function(){var t=Object(n.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getDualConfig("","",1);case 2:(e=t.sent)&&(this.paramsForm=Object.assign({},this.paramsForm,e.data));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),netConfigCheckNet:function(){var t=this;m.a.netConfigCheckNet({},"_").then((function(e){e&&t.$Message.success(e.msg)}),"_")},lockintime:function(){var t=this;m.a.netSetDate({strTime:c()().format("YYYY-MM-DD HH:mm:ss")},"query").then((function(e){e&&t.$Message.success(e.msg)}))},openSetIntval:function(){var t=this;this.mySetInterval=setInterval((function(){t.nowTime=c()(new Date).format("YYYY-MM-DD HH:mm:ss")}),1e3)},insetSave:function(){var t=Object(n.a)(s.a.mark((function t(){var e,a,r,n=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.next=3,this.$refs.paramsForm.validate();case 3:if(!t.sent){t.next=14;break}return t.next=6,$Modal.confirm({title:$t("routerMenu.saveServerConfiguration"),content:$t("routerMenu.restartedAfterConfiguration")});case 6:if(!t.sent){t.next=14;break}for(a in e.paramsForm)""!==e.paramsForm[a]&&null!=e.paramsForm[a]||delete e.paramsForm[a];return this.$store.commit("isErrorMsgShow",!1),t.next=11,m.a.updateNet(this.paramsForm,"","",3e3);case 11:r=t.sent,this.$store.commit("isErrorMsgShow",!0),void 0===r&&(this.successTime=!0,l.a.set("token","",{expires:0}),e.myTimeOut=setInterval((function(){e.timeOut=e.timeOut-1,e.timeOut<=0&&(clearInterval(e.myTimeOut),n.successTime=!1,location.href="http://".concat(e.paramsForm.ipaddr,"/"))}),1e3));case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),validateIP:function(t,e,a){/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(e.toUpperCase())?a():a(new Error($t("routerMenu.wrongIpFormat")))},validateChild:function(t,e,a){/^(254|252|248|240|224|192|128|0)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$/.test(e.toUpperCase())?a():a(new Error($t("routerMenu.wrongMask")))},validateDNS:function(t,e,a){/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(e.toUpperCase())?a():a(new Error($t("routerMenu.wrongDns")))}})},h=(a("9aec"),a("2877")),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"i-table-no-border selection"},[a("div",{staticClass:"pageHeader"},[a("h4",[t._v(t._s(t.$t("routerMenu.networkSettings")))]),t.nowTime?a("h4",{staticClass:"nowTime"},[t._v(t._s(t.$t("routerMenu.thisMachineTime"))+":"+t._s(t.nowTime))]):t._e(),a("div",{staticClass:"buttons"},[a("Button",{attrs:{disabled:0!==t.userInfo.isSensData,loading:t.$store.state.loading,type:"success",icon:"md-link"},on:{click:t.lockintime}},[t._v(t._s(t.$t("routerMenu.synchronizationTime")))])],1)]),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Tabs",{attrs:{value:"name1"}},[a("TabPane",{attrs:{label:this.$t("routerMenu.netCardOne"),name:"name1"}},[a("Form",{ref:"paramsForm",attrs:{model:t.paramsForm,"label-width":150,rules:t.paramsFormValidate}},[a("FormItem",{attrs:{label:this.$t("routerMenu.hostname"),prop:"name"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{value:t.paramsForm.name,readonly:!0,placeholder:this.$t("routerMenu.pleaseEnterHostName"),maxlength:32}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.mac"),prop:"mac"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{value:t.paramsForm.mac,readonly:!0,placeholder:this.$t("routerMenu.pleaseEnterMacs"),maxlength:32}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.ip"),prop:"ipaddr"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{placeholder:this.$t("routerMenu.pleaseEnterIp"),maxlength:32},model:{value:t.paramsForm.ipaddr,callback:function(e){t.$set(t.paramsForm,"ipaddr",e)},expression:"paramsForm.ipaddr"}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.subnetMask"),prop:"netmask"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{placeholder:this.$t("routerMenu.pleaseEnterSubnetMask"),maxlength:32},model:{value:t.paramsForm.netmask,callback:function(e){t.$set(t.paramsForm,"netmask",e)},expression:"paramsForm.netmask"}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.gateway"),prop:"gateWay"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{placeholder:this.$t("routerMenu.pleaseEnterGateway"),maxlength:32},model:{value:t.paramsForm.gateWay,callback:function(e){t.$set(t.paramsForm,"gateWay",e)},expression:"paramsForm.gateWay"}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.dns"),prop:"fristDNS"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{placeholder:this.$t("routerMenu.pleaseEnterDns"),maxlength:32},model:{value:t.paramsForm.fristDNS,callback:function(e){t.$set(t.paramsForm,"fristDNS",e)},expression:"paramsForm.fristDNS"}})],1),a("FormItem",{attrs:{label:this.$t("routerMenu.alternativeDns"),prop:"secondDNS"}},[a("Input",{staticClass:"setCarCars",staticStyle:{width:"220px"},attrs:{placeholder:this.$t("routerMenu.pleaseEnterAlternativeDns"),maxlength:32},model:{value:t.paramsForm.secondDNS,callback:function(e){t.$set(t.paramsForm,"secondDNS",e)},expression:"paramsForm.secondDNS"}})],1),a("br"),a("FormItem",{attrs:{label:"",prop:""}},[a("Button",{attrs:{disabled:0!==t.userInfo.isSensData,loading:t.$store.state.loading,type:"success",icon:"md-checkmark"},on:{click:t.insetSave}},[t._v(t._s(t.$t("routerMenu.save")))])],1)],1)],1)],1),a("Modal",{attrs:{title:this.$t("routerMenu.networkModifiedSuccessfully"),closable:!1,width:"380","mask-closable":!1},model:{value:t.successTime,callback:function(e){t.successTime=e},expression:"successTime"}},[a("p",{staticStyle:{position:"relative",width:"360px",height:"180px"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"58"}}),a("div",{staticStyle:{"margin-top":"10px","font-size":"17px","min-width":"250px",position:"relative",bottom:"-20px"}},[t._v("\n            "+t._s(t.timeOut)+" "+t._s(t.$t("routerMenu.automaticExitAfter"))+"\n          ")]),a("div",{staticStyle:{"margin-top":"0px",width:"100%",color:"#999","text-align":"center","font-size":"13px",position:"relative",bottom:"-20px"}},[t._v("\n            "+t._s(t.$t("routerMenu.aboutTwoMinutes"))+"\n          ")])],1)],1),a("p",{attrs:{slot:"footer"},slot:"footer"})])],1)],1)}),[],!1,null,null,null);e.default=f.exports},ee31:function(t,e,a){}}]);