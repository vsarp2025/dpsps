(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-733432ae"],{"0c98":function(e,t,r){e.exports={ivu_input_count:"ChannelParametersSet_ivu_input_count_3_p8n",upload_list:"ChannelParametersSet_upload_list_2xse3","demo-upload-list":"ChannelParametersSet_demo-upload-list_3tO5N","demo-upload-list-cover":"ChannelParametersSet_demo-upload-list-cover_3cKJE",imagesBox:"ChannelParametersSet_imagesBox_1dXNT","ivu-upload":"ChannelParametersSet_ivu-upload_B5rYq"}},"0dc1":function(e,t,r){},"4b45":function(e,t,r){"use strict";var a=r("0c98"),n=r.n(a);t.default=n.a},"7b0a":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"j",(function(){return s})),r.d(t,"m",(function(){return i})),r.d(t,"i",(function(){return o})),r.d(t,"l",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"f",(function(){return m})),r.d(t,"k",(function(){return d})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return f})),r("a481"),r("c5f6");var a=function(e,t,r){""===t||null==t?r(new Error($t("routerMenu.error21"))):r()},n=function(e,t,r){!t&&0!==t||null==t?r(new Error($t("routerMenu.error23"))):r()},s=function(e,t,r){!t&&0!==t||/^[0-9]*$/.test(t)?r():r(new Error($t("routerMenu.error27")))},i=function(e,t,r){!t&&0!==t||/^\d+$/.test(t)?r():r(new Error($t("routerMenu.error28")))},o=function(e,t,r){t&&!/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(t.toUpperCase())?r(new Error($t("routerMenu.error32"))):r()},l=function(e,t,r){!t&&0!==t||void 0==t||/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(t)?r():r(new Error($t("routerMenu.error34")))},c=function(e,t,r){(t||0===t)&&/^[0-9]*$/.test(t)&&Number(t)>0?r():r(new Error($t("routerMenu.error35")))},u=function(e,t,r){""!==t&&/^\d+(\.\d+)?$/.test(t)?r():r(new Error($t("routerMenu.error36")))},p=function(e,t,r){(t||0===t)&&0!=t&&/^\d+(\.\d+)?$/.test(t)?r():r(new Error($t("routerMenu.error37")))},m=function(e){return(e||0===e)&&/^[0-9]*$/.test(e)?parseInt(e):0},d=function(e,t,r){t&&t.length<3?r(new Error($t("routerMenu.error39"))):r()},h=function(e,t,r){t&&!/^(254|252|248|240|224|192|128|0)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$/.test(t.toUpperCase())?r(new Error($t("routerMenu.error44"))):r()},f=function(e,t,r){!t&&0!==t||/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(t.toUpperCase())?r():r(new Error($t("routerMenu.error45")))}},"9cad":function(e,t,r){"use strict";var a=r("0dc1");r.n(a).a},b612:function(e,t,r){"use strict";r.r(t),r("8e6e"),r("ac6a"),r("456d");var a=r("bd86"),n=r("967e"),s=r.n(n),i=(r("96cf"),r("3b8d")),o=(r("20d6"),r("7514"),r("7b0a")),l=r("365c"),c={name:"channelEdit",props:["parkModel","channelTypeList"],data:function(){return{ModalVisible:!1,channelForm:{id:"",channelName:"",channelTypeId:null,macAddress:"",ip:"",camera:"",camera2:"",displayIp:"",displayIp1:"",tempWorkPattern:0,monthWorkPattern:0,storedWorkPattern:0,vipWorkPattern:0},channelFormValidate:{channelName:[{required:!0,message:this.$t("routerMenu.error4"),trigger:"blur"},{validator:this.unitName,trigger:"blur"}],macAddress:[{required:!0,message:this.$t("routerMenu.error5"),trigger:"blur"},{validator:this.validateMAC,trigger:"blur"}],ip:[{required:!0,message:this.$t("routerMenu.error6"),trigger:"blur"},{validator:o.i,trigger:"blur"}],camera:[{required:!0,message:this.$t("routerMenu.error7"),trigger:"blur"},{validator:o.i,trigger:"blur"},{validator:this.validateIPCamera,trigger:"blur"}],camera2:[{validator:o.i,trigger:"blur"},{validator:this.validateIPCamera2,trigger:"blur"}],displayIp:[{validator:o.i,trigger:"blur"},{validator:this.validateIPdisplayIp,trigger:"blur"}],displayIp1:[{validator:o.i,trigger:"blur"},{validator:this.validateIPdisplayIp1,trigger:"blur"}],channelTypeId:[{required:!0,validator:o.a,message:$t("routerMenu.error8"),trigger:"blur"}]},modalType:"add",channelIsFull:!1}},methods:{reset:function(){this.channelForm.id="",this.$refs.channelForm.resetFields()},add:function(){this.reset(),this.channelForm={},this.modalType="add",this.ModalVisible=!0,this.channelIsFull=!1,this.initData()},changeIP:function(e){"add"===this.modalType&&"1"==this.parkModel&&(this.channelForm.ip=e.target.value)},validateMAC:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channelForm.macAddress){e.next=4;break}return e.abrupt("return",a(new Error($t("routerMenu.error5"))));case 4:return e.next=6,l.a.channelGetByMac({mac:this.channelForm.macAddress},"non-form");case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return",a(new Error($t("routerMenu.error10"))));case 9:if(n.data&&n.data.id&&n.data.id!==this.channelForm.id){e.next=11;break}return e.abrupt("return",a());case 11:return e.abrupt("return",a(new Error($t("routerMenu.error11"))));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),edit:function(e){this.reset(),this.modalType="edit",this.ModalVisible=!0,this.channelIsFull=!1;var t=JSON.parse(JSON.stringify(e));this.channelForm=t,this.initData()},initData:function(){this.channelForm.tempWorkPattern||(this.channelForm.tempWorkPattern=0),this.channelForm.monthWorkPattern||(this.channelForm.monthWorkPattern=0),this.channelForm.storedWorkPattern||(this.channelForm.storedWorkPattern=0),this.channelForm.vipWorkPattern||(this.channelForm.vipWorkPattern=0)},unitName:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.channelForm.channelName,e.next=3,l.a.findByName("","non",r);case 3:if(!(n=e.sent)){e.next=14;break}if(n.data){e.next=9;break}return e.abrupt("return",a());case 9:if(n.data.uuid!==this.channelForm.uuid){e.next=13;break}return e.abrupt("return",a());case 13:return e.abrupt("return",a(new Error($t("routerMenu.error12"))));case 14:return e.abrupt("return",a(new Error($t("routerMenu.error13"))));case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),submit:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.channelForm.validate();case 2:if(!e.sent){e.next=8;break}return 1==this.parkModel&&(this.channelForm.ip=this.channelForm.camera),e.next=6,l.a.channelSave(this.channelForm,"_");case 6:(t=e.sent)&&(this.$Message.success(t.msg),this.ModalVisible=!1,this.$emit("init",2));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),validateIPCamera:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$set(this.channelForm,"camera",r.trim()),e.next=3,l.a.channelGetByCameraIp({ip:this.channelForm.camera},"form-non");case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",a(new Error($t("routerMenu.error14"))));case 6:if(n.data&&n.data.id&&n.data.id!==this.channelForm.id){e.next=8;break}return e.abrupt("return",a());case 8:return e.abrupt("return",a(new Error($t("routerMenu.error15"))));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),validateIPCamera2:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",a());case 2:if(this.$set(this.channelForm,"camera2",r.trim()),this.channelForm.camera2){e.next=7;break}return e.abrupt("return",a());case 7:if(this.channelForm.camera2!==this.channelForm.camera.trim()){e.next=9;break}return e.abrupt("return",a(new Error($t("routerMenu.error16"))));case 9:return e.next=11,l.a.channelGetByCameraIp({ip:this.channelForm.camera2},"form-non");case 11:if(!((n=e.sent)&&n&&n.data&&n.data.id)){e.next=20;break}if(n.data.id!==this.channelForm.id||this.channelForm.camera2!==n.data.camera2){e.next=17;break}return e.abrupt("return",a());case 17:a(new Error($t("routerMenu.error17")));case 18:e.next=21;break;case 20:n&&1==+n.status?a():a(new Error($t("routerMenu.error18")));case 21:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),validateIPdisplayIp:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&this.channelForm.displayIp){e.next=2;break}return e.abrupt("return",a());case 2:return this.$set(this.channelForm,"displayIp",r.trim()),e.next=5,l.a.channelGetByCameraIp({ip:this.channelForm.displayIp},"form-non");case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return",a(new Error($t("routerMenu.error19"))));case 8:if(n.data&&n.data.id&&n.data.id!==this.channelForm.id){e.next=10;break}return e.abrupt("return",a());case 10:return e.abrupt("return",a(new Error($t("routerMenu.error20"))));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),validateIPdisplayIp1:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&this.channelForm.displayIp1){e.next=2;break}return e.abrupt("return",a());case 2:return this.$set(this.channelForm,"displayIp",r.trim()),e.next=5,l.a.channelGetByCameraIp({ip:this.channelForm.displayIp1},"form-non");case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return",a(new Error($t("routerMenu.error19"))));case 8:if(n.data&&n.data.id&&n.data.id!==this.channelForm.id){e.next=10;break}return e.abrupt("return",a());case 10:return e.abrupt("return",a(new Error($t("routerMenu.error20"))));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),toggleFullScreen:function(){this.channelIsFull=!this.channelIsFull}}},u=r("2877"),p=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Modal",{attrs:{title:this.$t("routerMenu.editChannel"),"mask-closable":!1,width:460,fullscreen:e.channelIsFull},scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"modal-header"},[r("span",{staticClass:"modal-title"},[e._v(e._s(e.$t("routerMenu.editChannel")))]),r("Icon",{attrs:{type:e.channelIsFull?"ios-contract":"ios-expand",size:18},on:{click:e.toggleFullScreen}})],1)]},proxy:!0}]),model:{value:e.ModalVisible,callback:function(t){e.ModalVisible=t},expression:"ModalVisible"}},[r("Form",{ref:"channelForm",attrs:{model:e.channelForm,"label-width":e.channelIsFull?220:120,rules:e.channelFormValidate,inline:""}},[r("FormItem",{attrs:{label:this.$t("routerMenu.channelName"),prop:"channelName"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:20},model:{value:e.channelForm.channelName,callback:function(t){e.$set(e.channelForm,"channelName",t)},expression:"channelForm.channelName"}})],1),r("FormItem",{attrs:{label:this.$t("routerMenu.channelType"),prop:"channelTypeId"}},[r("Select",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{placeholder:this.$t("routerMenu.pleaseSelect")},model:{value:e.channelForm.channelTypeId,callback:function(t){e.$set(e.channelForm,"channelTypeId",t)},expression:"channelForm.channelTypeId"}},e._l(e.channelTypeList,(function(t){return r("Option",{key:t.dataValue,attrs:{value:t.dataValue}},[e._v(e._s(t.dataName))])})),1)],1),r("FormItem",{attrs:{label:this.$t("routerMenu.mac"),prop:"macAddress"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:24,disabled:"add"!==e.modalType},model:{value:e.channelForm.macAddress,callback:function(t){e.$set(e.channelForm,"macAddress",t)},expression:"channelForm.macAddress"}},[r("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.$t("routerMenu.char")))])])],1),1!=e.parkModel?r("FormItem",{attrs:{label:this.$t("routerMenu.mainContorlIp"),prop:"ip"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:20},on:{"on-change":e.changeIP},model:{value:e.channelForm.ip,callback:function(t){e.$set(e.channelForm,"ip",t)},expression:"channelForm.ip"}})],1):e._e(),1==e.parkModel?r("FormItem",{attrs:{label:this.$t("routerMenu.mainCameraIp"),prop:"camera"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{disabled:1==e.parkModel&&"add"!==e.modalType,maxlength:20},on:{"on-change":e.changeIP},model:{value:e.channelForm.camera,callback:function(t){e.$set(e.channelForm,"camera",t)},expression:"channelForm.camera"}})],1):e._e(),1!=e.parkModel?r("FormItem",{attrs:{label:this.$t("routerMenu.mainCameraIp"),prop:""}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{disabled:1==e.parkModel&&"add"!==e.modalType,maxlength:20},on:{"on-change":e.changeIP},model:{value:e.channelForm.camera,callback:function(t){e.$set(e.channelForm,"camera",t)},expression:"channelForm.camera"}})],1):e._e(),r("FormItem",{attrs:{label:this.$t("routerMenu.minorCameraIp"),prop:"camera2"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:20},model:{value:e.channelForm.camera2,callback:function(t){e.$set(e.channelForm,"camera2",t)},expression:"channelForm.camera2"}})],1),r("FormItem",{attrs:{label:this.$t("routerMenu.displayIp"),prop:"displayIp"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:20},model:{value:e.channelForm.displayIp,callback:function(t){e.$set(e.channelForm,"displayIp",t)},expression:"channelForm.displayIp"}})],1),r("FormItem",{attrs:{label:this.$t("routerMenu.displayIp")+"2",prop:"displayIp1"}},[r("Input",{style:{width:e.channelIsFull?"320px":"280px"},attrs:{maxlength:20},model:{value:e.channelForm.displayIp1,callback:function(t){e.$set(e.channelForm,"displayIp1",t)},expression:"channelForm.displayIp1"}})],1),r("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[r("FormItem",{attrs:{label:this.$t("routerMenu.tempConfirm"),prop:"tempWorkPattern"}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.channelForm.tempWorkPattern,callback:function(t){e.$set(e.channelForm,"tempWorkPattern",t)},expression:"channelForm.tempWorkPattern"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("routerMenu.open")))]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("routerMenu.close")))])])],1),r("FormItem",{attrs:{label:this.$t("routerMenu.monthConfirm"),prop:"monthWorkPattern"}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.channelForm.monthWorkPattern,callback:function(t){e.$set(e.channelForm,"monthWorkPattern",t)},expression:"channelForm.monthWorkPattern"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("routerMenu.open")))]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("routerMenu.close")))])])],1),r("FormItem",{attrs:{label:this.$t("routerMenu.storageConfirm"),prop:"storedWorkPattern"}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.channelForm.storedWorkPattern,callback:function(t){e.$set(e.channelForm,"storedWorkPattern",t)},expression:"channelForm.storedWorkPattern"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("routerMenu.open")))]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("routerMenu.close")))])])],1),r("FormItem",{attrs:{label:this.$t("routerMenu.vipConfirm"),prop:"vipWorkPattern",size:"large"}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.channelForm.vipWorkPattern,callback:function(t){e.$set(e.channelForm,"vipWorkPattern",t)},expression:"channelForm.vipWorkPattern"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("routerMenu.open")))]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("routerMenu.close")))])])],1)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"dashed"},on:{click:function(t){e.ModalVisible=!1}}},[e._v(e._s(e.$t("routerMenu.cancel")))]),r("Button",{attrs:{type:"primary",loading:e.$store.state._loading},on:{click:e.submit}},[e._v(e._s(e.$t("routerMenu.save")))])],1)],1)}),[],!1,null,null,null).exports,m={data:function(){return{payTitle:this.$t("routerMenu.payTitle"),ModalVisible:!1,payForm:{ip:"",mac:"",posType:0},payFormValidate:{ip:[{required:!0,message:this.$t("routerMenu.payTool"),trigger:"blur"},{validator:this.unitIP,trigger:"blur"}]},edit:!1,oldIp:""}},methods:{showModal:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$refs.payForm.resetFields(),this.ModalVisible=!0,e.next=5,this.findPayInfo(t.macAddress);case 5:this.payForm.mac=t.macAddress;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.payForm.validate();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(!this.edit){e.next=11;break}return e.next=7,l.a.malayUpdate(this.payForm,"_");case 7:(t=e.sent)&&(this.$Message.success(t.msg),this.ModalVisible=!1),e.next=15;break;case 11:return e.next=13,l.a.malaySave(this.payForm,"_");case 13:(r=e.sent)&&(this.$Message.success(r.msg),this.ModalVisible=!1);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),findPayInfo:function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getMalayFindAllInfo({mac:t},"query");case 2:r=e.sent,a=r.data&&"null"!=r.data?JSON.parse(r.data):{ip:"",posType:0},this.payForm.ip=a.ip,this.payForm.posType=a.posType,this.oldIp=a.ip,r.data&&(this.edit=!0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),unitIP:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.edit||this.oldIp!==this.payForm.ip){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.a.malaySelectByIp({ip:this.payForm.ip},"query");case 4:if(!e.sent.data){e.next=9;break}return e.abrupt("return",a(new Error(this.$t("routerMenu.payFlag"))));case 9:return e.abrupt("return",a());case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}(),handlerDelte:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.payForm.ip?this.payForm.ip:"",e.next=3,$Modal.confirm({title:this.$t("routerMenu.confirmDeletion"),content:this.$t("routerMenu.uConfirmDeletion")+t+" ?"});case 3:if(!e.sent){e.next=8;break}return e.next=6,l.a.malayDeleteById({mac:this.payForm.mac},"query");case 6:(r=e.sent)&&(this.$Message.success(r.msg),this.ModalVisible=!1);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},mounted:function(){}},d=Object(u.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Modal",{attrs:{title:e.payTitle,"mask-closable":!1},model:{value:e.ModalVisible,callback:function(t){e.ModalVisible=t},expression:"ModalVisible"}},[r("Form",{ref:"payForm",attrs:{model:e.payForm,"label-width":100,rules:e.payFormValidate,inline:""}},[r("FormItem",{attrs:{label:this.$t("routerMenu.posTypeLabel"),prop:"posType"}},[r("Select",{style:{width:"240px"},attrs:{placeholder:this.$t("routerMenu.pleaseSelect")},model:{value:e.payForm.posType,callback:function(t){e.$set(e.payForm,"posType",t)},expression:"payForm.posType"}},[r("Option",{attrs:{value:0}},[e._v("Malaysia")]),r("Option",{attrs:{value:1}},[e._v("Middle East")]),r("Option",{attrs:{value:2}},[e._v("Malaysia-LPS2")])],1)],1),r("FormItem",{attrs:{label:"ip :",prop:"ip"}},[r("Input",{attrs:{maxlength:20},model:{value:e.payForm.ip,callback:function(t){e.$set(e.payForm,"ip",t)},expression:"payForm.ip"}})],1),r("Button",{staticStyle:{"margin-left":"5px"},attrs:{type:"error"},on:{click:e.handlerDelte}},[e._v(e._s(e.$t("routerMenu.delete")))])],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:function(t){e.ModalVisible=!1}}},[e._v(e._s(e.$t("routerMenu.cancel")))]),r("Button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("routerMenu.save")))])],1)],1)}),[],!1,null,"739ef990",null).exports,h=(r("7f7f"),r("28a5"),r("2d95"),r("c276"),r("d160")),f=r("5a0c"),y=r.n(f);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r("56d7");var b={channelName:"",macAddress:"",id:"",mac:"",peakModel:1,startTime:"07:30",endTime:"09:00"},M={data:function(){return{nowTime:"",mySetInterval:null,channelParametersModal:!1,peakInfoList:[],peakInfoType:0,peakInfo:Object.assign({},b,{}),systemVoiceInfoType:0,systemVoiceInfo:{voiceValue:0,interval1:0,interval2:0,interval3:0,interval4:0,interval5:0},voiceInfo:{tempCarEntrance:"",tempCarExit:"",displayType:0},MESSAGE:"",messageForm:{oneMessage:"",twoMessage:"",threeMessage:"",fourMessage:""},defaultList:[],imgName:"",imgUrl:"",visible:!1,totalImg:[],imgArr:[],previewImagesList:[],ylImgType:!1,ylImg:"",parametersIsFull:!1,imgNum:0}},computed:{tempCarEntranceList:function(){var e=[{dataName:$t("routerMenu.welcome"),dataValue:"0"},{dataName:$t("routerMenu.pleasePass"),dataValue:"1"},{dataName:$t("routerMenu.welcomeHome"),dataValue:"2"},{dataName:$t("routerMenu.pleaseEnterAndStop"),dataValue:"3"}];return e},tempCarExitList:function(){var e=[{dataName:$t("routerMenu.goodTraveller"),dataValue:"0"},{dataName:$t("routerMenu.allTheWay"),dataValue:"1"},{dataName:$t("routerMenu.pleasePass"),dataValue:"2"},{dataName:$t("routerMenu.welcomeAgain"),dataValue:"3"}];return e},disabledVoiceInfo:function(){return!this.voiceInfo.tempCarEntrance||!this.voiceInfo.tempCarExit}},methods:{tempCarEntranceInputBlur:function(e,t){},tempCarExitInputBlur:function(e,t){},showModal:function(){this.init(),this.channelParametersModal=!0,this.parametersIsFull=!1,this.openSetIntval()},switchPeakInfo:function(e){this.getPeakInfo(e)},init:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getChannelList(),this.getSystemVoice(),this.getVoice(),this.findAllImages(),this.getMessage();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getChannelList:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.channelFind({channelName:"",searchForm:null,searchType:0,pageNum:1,pageSize:1e3},"non");case 2:(t=e.sent)&&(this.peakInfoList=t.data.list);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getPeakInfo:function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.peakFind("","_",t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:r.data?this.peakInfoType=1:(this.peakInfoType=0,this.$set(this.peakInfo,"peakModel",1)),a=r.data||this.peakInfoList.find((function(e){return e.macAddress==t}))||{},this.peakInfo=Object.assign({},this.peakInfo,a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),setPeakInfo:function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:this.peakInfo.id,mac:this.peakInfo.macAddress,peakModel:t,modifyName:"",endTime:this.peakInfo.endTime,startTime:this.peakInfo.startTime},!this.peakInfoType){e.next=7;break}return e.next=4,l.a.peakUpdate(r,"_");case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,l.a.peakInsert(r,"_");case 9:a=e.sent;case 10:a&&(this.getPeakInfo(this.peakInfo.macAddress),this.$Message.success(a.msg));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),getSystemVoice:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.systemVoiceFind("","non");case 2:t=e.sent,(r=t&&t.dataList&&t.dataList.length&&t.dataList[0])?this.systemVoiceInfoType=1:r={},this.systemVoiceInfo=Object.assign({},this.systemVoiceInfo,r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),setSystemVoice:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.systemVoiceInfo.createTime="",this.systemVoiceInfo.modifyTime="",this.systemVoiceInfo.isLoad="",this.systemVoiceInfo.remark="",!this.systemVoiceInfoType){e.next=10;break}return e.next=7,l.a.systemVoiceUpdate(this.systemVoiceInfo,"_");case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,l.a.systemVoiceSet(this.systemVoiceInfo,"_");case 12:e.t0=e.sent;case 13:(t=e.t0)&&this.$Message.success(t.msg);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),saveMessage:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.saveMessage(this.messageForm,"_");case 2:(t=e.sent)&&this.$Message.success(t.msg),this.getMessage();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getMessage:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getMessage({},"non");case 2:(t=e.sent).data&&(this.messageForm=JSON.parse(t.data));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getVoice:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.voiceFind({pageNum:1,pageSize:100},"non");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:t.data&&t.data.list.length&&(this.voiceInfo=t.data.list[t.data.list.length-1]);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),setVoice:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.voiceInfo.id&&0!==this.voiceInfo.id){e.next=6;break}return e.next=3,l.a.voiceUpdate(this.voiceInfo,"_");case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,l.a.voiceSet(this.voiceInfo,"_");case 8:e.t0=e.sent;case 9:1===(t=e.t0).status&&(this.getVoice(),this.$Message.success(t.msg));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),uploadImage:function(e,t){var r=this;if(!(this.imgNum>5)){var a=Object(h.a)(),n=e.target.files&&e.target.files[0],s=n.type.split("/")[1],i=n.name.split(".")[0];if(/.*[\u4e00-\u9fa5]+.*$/.test(i)?(this.$refs.inputImg.value=null,i=a+"."+n.name.split(".")[1]):i=n.name,"jpg"!==s&&"jpeg"!==s&&"png"!==s&&"mp4"!==s)return this.$refs.inputImg.value=null,this.$Message.error($t("routerMenu.pleaseUpload1"));if(n.size>2097152&&"mp4"!==s)return this.$refs.inputImg.value=null,this.$Message.error($t("routerMenu.pleaseUpload2"));if(this.totalImg.push(n.name),this.totalImg.length>5||5===this.previewImagesList.length||this.totalImg.length+this.previewImagesList.length>5)return this.$Message.error($t("routerMenu.pleaseUpload3"));var o=new File([n],i);l.a.uploadFile(o,"upload","?type=0").then((function(e){if(1==e.status){var t=e.data;r.imgArr.push(t),r.ylImgType=!0,r.$refs.inputImg.value=null,r.imgNum++}}))}},insertImages:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.imgArr.map((function(e){return{picurl:e}})),!(this.previewImagesList.length+t.length>5||5===this.previewImagesList.length)){e.next=6;break}return e.abrupt("return",this.$Message.error($t("routerMenu.pleaseUpload3")));case 6:if(!(t.length>0)){e.next=13;break}return e.next=9,l.a.insertImages(t);case 9:1==(r=e.sent).status&&(this.$Message.success(r.msg),this.findAllImages(),this.imgArr=[],this.ylImgType=!1),e.next=14;break;case 13:this.$Message.error($t("routerMenu.pleaseUpload4"));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),handleRemove:function(){var e=Object(i.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,l.a.deleteImages(r);case 3:1==e.sent.status&&(this.imgNum--,this.$Message.success($t("routerMenu.deleteSuccess")),this.findAllImages());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),findAllImages:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.previewImagesList=[],e.next=3,l.a.findAllImages();case 3:(t=e.sent)&&(this.previewImagesList=(t.dataList||[]).map((function(e){return v({},e,{picurl:"".concat(r.$api.imgUrl,"images/").concat(e.picurl)})})),this.totalImg=[],this.imgNum=this.previewImagesList.length);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),openSetIntval:function(){var e=this;this.mySetInterval=setInterval((function(){e.nowTime=y()(new Date).format("YYYY-MM-DD HH:mm:ss")}),1e3)},lockintime:function(){var e=Object(i.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.setDate({strTime:y()().format("YYYY-MM-DD HH:mm:ss")},"query").then((function(e){e&&t.$Message.success(e.msg)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),closeChannelParametersModal:function(){this.channelParametersModal=!1,clearInterval(this.mySetInterval)},toggleFullScreen:function(){this.parametersIsFull=!this.parametersIsFull}},mounted:function(){}},I=r("4b45");function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}r("9cad");var k=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{props:["userInfo"],name:"chan_set",components:{channelEdit:p,ChannelParametersSet:Object(u.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Modal",{ref:"szCharg",staticClass:"charg-sz",attrs:{title:this.$t("routerMenu.channelParameterSettings"),"mask-closable":!1,width:650,fullscreen:e.parametersIsFull},on:{"on-cancel":e.closeChannelParametersModal},scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"modal-header"},[r("span",{staticClass:"modal-title"},[e._v(e._s(e.$t("routerMenu.channelParameterSettings")))]),r("Icon",{attrs:{type:e.parametersIsFull?"ios-contract":"ios-expand",size:18},on:{click:e.toggleFullScreen}})],1)]},proxy:!0}]),model:{value:e.channelParametersModal,callback:function(t){e.channelParametersModal=t},expression:"channelParametersModal"}},[e.$store.state.loading?r("Spin",{attrs:{size:"large",fix:""}}):e._e(),r("Tabs",{attrs:{type:"card"}},[r("Tab-pane",{attrs:{label:this.$t("routerMenu.peakMode"),name:"0"}},[r("i-form",{attrs:{model:e.peakInfo,"label-width":e.parametersIsFull?180:120}},[r("Form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:this.$t("routerMenu.channel"),prop:"macAddress"}},[r("Row",[r("i-col",{attrs:{span:"16"}},[r("Select",{attrs:{placeholder:this.$t("routerMenu.pleaseSelect")},on:{input:e.switchPeakInfo},model:{value:e.peakInfo.macAddress,callback:function(t){e.$set(e.peakInfo,"macAddress",t)},expression:"peakInfo.macAddress"}},e._l(e.peakInfoList,(function(e){return r("Option",{key:e.macAddress,attrs:{value:e.macAddress,label:e.channelName}})})),1)],1)],1)],1),r("Form-item",{attrs:{label:this.$t("routerMenu.beginDate")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect")},model:{value:e.peakInfo.startTime,callback:function(t){e.$set(e.peakInfo,"startTime",t)},expression:"peakInfo.startTime"}})],1),r("Form-item",{attrs:{label:this.$t("routerMenu.endDate")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect")},model:{value:e.peakInfo.endTime,callback:function(t){e.$set(e.peakInfo,"endTime",t)},expression:"peakInfo.endTime"}})],1),r("Form-item",{staticStyle:{"margin-top":"60px","margin-bottom":"60px"}},[1==e.peakInfo.peakModel?r("i-button",{attrs:{loading:e.$store.state._loading,type:"primary",disabled:!e.peakInfo.macAddress},on:{click:function(t){return e.setPeakInfo(0)}}},[e._v(e._s(e.$t("routerMenu.startPeakMode")))]):e._e(),1!=e.peakInfo.peakModel?r("i-button",{attrs:{loading:e.$store.state._loading,type:"primary",disabled:!e.peakInfo.macAddress},on:{click:function(t){return e.setPeakInfo(0)}}},[e._v(e._s(e.$t("routerMenu.save")))]):e._e(),1!=e.peakInfo.peakModel?r("i-button",{staticStyle:{"margin-left":"20px"},attrs:{loading:e.$store.state._loading,type:"error",disabled:!e.peakInfo.macAddress},on:{click:function(t){return e.setPeakInfo(1)}}},[e._v("\n              "+e._s(e.$t("routerMenu.closePeakMode")))]):e._e()],1)],1)],1),r("Tab-pane",{attrs:{label:this.$t("routerMenu.voiceTemplate"),name:"1"}},[r("i-form",{attrs:{model:e.voiceInfo,"label-width":e.parametersIsFull?180:120}},[r("Form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:this.$t("routerMenu.admissionPromptVoice")}},[r("Row",[r("i-col",{attrs:{span:"16"}},[r("i-select",{attrs:{filterable:"",placeholder:this.$t("routerMenu.pleaseSelect")},on:{"on-input-blur":e.tempCarEntranceInputBlur},model:{value:e.voiceInfo.tempCarEntrance,callback:function(t){e.$set(e.voiceInfo,"tempCarEntrance",t)},expression:"voiceInfo.tempCarEntrance"}},e._l(e.tempCarEntranceList,(function(e,t){return r("i-option",{key:e.dataValue,attrs:{value:e.dataValue,label:e.dataName}})})),1)],1)],1)],1),r("Form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:this.$t("routerMenu.promptVoice")}},[r("Row",[r("i-col",{attrs:{span:"16"}},[r("i-select",{attrs:{filterable:"",placeholder:this.$t("routerMenu.pleaseSelect")},on:{"on-input-blur":e.tempCarExitInputBlur},model:{value:e.voiceInfo.tempCarExit,callback:function(t){e.$set(e.voiceInfo,"tempCarExit",t)},expression:"voiceInfo.tempCarExit"}},e._l(e.tempCarExitList,(function(e,t){return r("i-option",{key:e.dataValue,attrs:{value:e.dataValue,label:e.dataName}})})),1)],1)],1)],1),r("Form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:this.$t("routerMenu.displayType")}},[r("Row",[r("i-col",{attrs:{span:"16"}},[r("i-select",{attrs:{placeholder:this.$t("routerMenu.pleaseSelect")},model:{value:e.voiceInfo.displayType,callback:function(t){e.$set(e.voiceInfo,"displayType",t)},expression:"voiceInfo.displayType"}},[r("i-option",{attrs:{value:0}},[e._v("LCD")]),r("i-option",{attrs:{value:1}},[e._v("LED")])],1)],1)],1)],1),r("Form-item",{staticStyle:{"margin-top":"60px","margin-bottom":"60px"}},[r("i-button",{attrs:{type:"primary",loading:e.$store.state._loading,disabled:e.disabledVoiceInfo},on:{click:e.setVoice}},[e._v("\n              "+e._s(e.$t("routerMenu.update")))])],1)],1)],1),r("Tab-pane",{attrs:{label:this.$t("routerMenu.volumeRegulation"),name:"2"}},[r("i-form",{attrs:{"label-width":e.parametersIsFull?260:80,model:e.systemVoiceInfo}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":4,label:""}},[r("em",{staticStyle:{"vertical-align":"sub"}},[e._v(e._s(e.$t("routerMenu.playTime")))])])],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":10,label:""}},[r("em",{staticStyle:{"vertical-align":"sub"}},[e._v(e._s(e.$t("routerMenu.defaultVolume")))])])],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.voiceValue,callback:function(t){e.$set(e.systemVoiceInfo,"voiceValue",t)},expression:"systemVoiceInfo.voiceValue"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.voiceValue,callback:function(t){e.$set(e.systemVoiceInfo,"voiceValue",t)},expression:"systemVoiceInfo.voiceValue"}})],1)],1)],1)],1)],1),r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:this.$t("routerMenu.morning")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"06:00",readonly:""}})],1)],1),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"-","label-width":28}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"08:00",readonly:""}})],1)],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.interval1,callback:function(t){e.$set(e.systemVoiceInfo,"interval1",t)},expression:"systemVoiceInfo.interval1"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.interval1,callback:function(t){e.$set(e.systemVoiceInfo,"interval1",t)},expression:"systemVoiceInfo.interval1"}})],1)],1)],1)],1)],1),r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:this.$t("routerMenu.forenoon")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"08:00",readonly:""}})],1)],1),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"-","label-width":28}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"12:00",readonly:""}})],1)],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.interval2,callback:function(t){e.$set(e.systemVoiceInfo,"interval2",t)},expression:"systemVoiceInfo.interval2"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.interval2,callback:function(t){e.$set(e.systemVoiceInfo,"interval2",t)},expression:"systemVoiceInfo.interval2"}})],1)],1)],1)],1)],1),r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:this.$t("routerMenu.noon")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"12:00",readonly:""}})],1)],1),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"-","label-width":28}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"14:00",readonly:""}})],1)],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.interval3,callback:function(t){e.$set(e.systemVoiceInfo,"interval3",t)},expression:"systemVoiceInfo.interval3"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.interval3,callback:function(t){e.$set(e.systemVoiceInfo,"interval3",t)},expression:"systemVoiceInfo.interval3"}})],1)],1)],1)],1)],1),r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:this.$t("routerMenu.afternoon")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"14:00",readonly:""}})],1)],1),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"-","label-width":28}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"18:00",readonly:""}})],1)],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.interval4,callback:function(t){e.$set(e.systemVoiceInfo,"interval4",t)},expression:"systemVoiceInfo.interval4"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.interval4,callback:function(t){e.$set(e.systemVoiceInfo,"interval4",t)},expression:"systemVoiceInfo.interval4"}})],1)],1)],1)],1)],1),r("Row",[r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:this.$t("routerMenu.evening")}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"18:00",readonly:""}})],1)],1),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"-","label-width":28}},[r("Time-picker",{attrs:{format:"HH:mm",type:"time",placeholder:this.$t("routerMenu.pleaseSelect"),value:"06:00",readonly:""}})],1)],1)],1)],1),r("i-col",{attrs:{span:"12"}},[r("Row",[r("i-col",{attrs:{span:e.parametersIsFull?10:17}},[r("Form-item",{attrs:{"label-width":20}},[r("Slider",{attrs:{max:9},model:{value:e.systemVoiceInfo.interval5,callback:function(t){e.$set(e.systemVoiceInfo,"interval5",t)},expression:"systemVoiceInfo.interval5"}})],1)],1),r("i-col",{attrs:{span:"7"}},[r("Form-item",{attrs:{"label-width":20}},[r("InputNumber",{staticStyle:{width:"56px","padding-left":"0"},attrs:{max:9,min:0,placeholder:""},model:{value:e.systemVoiceInfo.interval5,callback:function(t){e.$set(e.systemVoiceInfo,"interval5",t)},expression:"systemVoiceInfo.interval5"}})],1)],1)],1)],1)],1),r("Form-item",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"}},[r("i-button",{attrs:{type:"primary",loading:e.$store.state._loading},on:{click:e.setSystemVoice}},[e._v("\n              "+e._s(e.$t("routerMenu.update")))])],1)],1)],1),r("Tab-pane",{attrs:{label:this.$t("routerMenu.slogan"),name:"3"}},[r("i-form",{attrs:{"label-width":120}},[r("Form-item",{attrs:{label:e.$t("routerMenu.theFirstLine")}},[r("Input",{staticStyle:{width:"80%"},attrs:{placeholder:e.$t("routerMenu.theFirstLine")},model:{value:e.messageForm.oneMessage,callback:function(t){e.$set(e.messageForm,"oneMessage",t)},expression:"messageForm.oneMessage"}})],1),r("Form-item",{attrs:{label:e.$t("routerMenu.theSecondLine")}},[r("Input",{staticStyle:{width:"80%"},attrs:{placeholder:e.$t("routerMenu.theSecondLine")},model:{value:e.messageForm.twoMessage,callback:function(t){e.$set(e.messageForm,"twoMessage",t)},expression:"messageForm.twoMessage"}})],1),r("Form-item",{attrs:{label:e.$t("routerMenu.theThirdLine")}},[r("Input",{staticStyle:{width:"80%"},attrs:{placeholder:e.$t("routerMenu.theThirdLine")},model:{value:e.messageForm.threeMessage,callback:function(t){e.$set(e.messageForm,"threeMessage",t)},expression:"messageForm.threeMessage"}})],1),r("Form-item",{attrs:{label:e.$t("routerMenu.theFourthLine")}},[r("Input",{staticStyle:{width:"80%"},attrs:{placeholder:e.$t("routerMenu.theFourthLine")},model:{value:e.messageForm.fourMessage,callback:function(t){e.$set(e.messageForm,"fourMessage",t)},expression:"messageForm.fourMessage"}})],1),r("Form-item",{staticStyle:{"margin-top":"10px","text-align":"left","margin-left":"0px"}},[r("i-button",{attrs:{type:"primary",loading:e.$store.state._loading},on:{click:e.saveMessage}},[e._v(e._s(e.$t("routerMenu.save"))+"\n            ")])],1)],1)],1),r("Tab-pane",{attrs:{label:this.$t("routerMenu.lcdAdvertisement"),name:"4"}},[r("div",{staticStyle:{display:"flex","align-items":"center"}},[r("div",{staticClass:"ivu-upload ivu-upload-drag",staticStyle:{width:"100%"}},[e.imgNum<5?r("input",{ref:"inputImg",staticClass:"ivu-upload-input",attrs:{type:"file",multiple:"multiple",accept:"*/",id:"uploadBg",name:"files",action:""},on:{change:function(t){return e.uploadImage(t,"uploadImg")}}}):e._e(),r("label",{staticStyle:{padding:"20px 0px",display:"block"},attrs:{for:"uploadBg"}},[r("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload",staticStyle:{"font-size":"52px",color:"rgb(51, 153, 255)"}}),r("p",[e._v(e._s(e.$t("routerMenu.uploadLcd")))])]),e.$store.state._loading?r("Spin",{attrs:{fix:""}},[r("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"32"}})],1):e._e()],1)]),r("Alert",{staticStyle:{"margin-top":"10px","max-width":"500px"},attrs:{type:"warning","show-icon":""}},[e._v(e._s(e.$t("routerMenu.pleaseUpload"))+"\n        ")]),e.ylImgType?r("h4",{class:e.$style.h4img},[e._v(e._s(e.$t("routerMenu.previewPicture")))]):e._e(),e.ylImgType?r("div",{staticClass:"ylImg"},e._l(e.imgArr,(function(t,a){return r("div",{key:t.id,staticClass:"ylClass2"},[e.imgArr[a].includes("png")||e.imgArr[a].includes("jpg")||e.imgArr[a].includes("jpeg")?r("img",{attrs:{src:e.$api.imgUrl+"images/"+e.imgArr[a],alt:""}}):e._e(),e.imgArr[a].includes("mp4")?r("video",{attrs:{autoplay:"",loop:""}},[r("source",{attrs:{src:e.$api.imgUrl+"images/"+e.imgArr[a],type:"video/mp4"}}),e._v("\n              "+e._s(e.$t("routerMenu.yourBrowser"))+"\n            ")]):e._e()])})),0):e._e(),this.previewImagesList.length>0?r("h4",{class:e.$style.h4img,staticStyle:{"border-top":"1px dashed #eee","padding-top":"10px"}},[e._v("\n          "+e._s(e.$t("routerMenu.haveUploaded"))+"\n        ")]):e._e(),r("div",{staticClass:"imagesBox",staticStyle:{"margin-bottom":"20px"}},[e._l(e.previewImagesList,(function(t){return r("div",{key:t.id,staticClass:"ylImgList"},[t.picurl.includes("png")||t.picurl.includes("jpg")||t.picurl.includes("jpeg")?r("img",{staticClass:"ylClass",attrs:{src:t.picurl,alt:""}}):e._e(),t.picurl.includes("mp4")?r("video",{staticClass:"ylClass",attrs:{autoplay:"",loop:""}},[r("source",{attrs:{src:t.picurl,type:"video/mp4"}}),e._v("\n              "+e._s(e.$t("routerMenu.yourBrowser"))+"\n            ")]):e._e(),r("Icon",{staticClass:"removeClass",attrs:{type:"ios-trash-outline"},on:{click:function(r){return e.handleRemove(t)}}})],1)})),r("div",{staticStyle:{clear:"both"}})],2),r("i-button",{staticClass:"uploadImg",attrs:{type:"primary"},on:{click:e.insertImages}},[e._v(e._s(e.$t("routerMenu.save")))])],1)],1),r("div",{staticClass:"buttonsBox",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"lockintimeClass"},[r("Button",{attrs:{loading:e.$store.state.loading,type:"success",icon:"md-link"},on:{click:e.lockintime}},[e._v(e._s(e.$t("routerMenu.synchronizeBoardTime")))]),e.nowTime?r("h4",{staticClass:"nowTime"},[e._v(e._s(e.$t("routerMenu.thisMachineTime"))+" "+e._s(e.nowTime))]):e._e()],1),r("Button",{staticClass:"closeBtnClass",attrs:{type:"dashed"},on:{click:e.closeChannelParametersModal}},[e._v(e._s(e.$t("routerMenu.close")))])],1)],1)],1)}),[],!1,(function(e){this.$style=I.default.locals||I.default}),null,null).exports,payEdit:d},data:function(){return{selectList:{},searchForm:{channelName:"",searchForm:null,pageSize:20,pageNum:1},data:[],total:0,searchType:1,parkModel:"",cameraType:""}},computed:{channelTypeList:function(){var e=[{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType1"),dataValue:1},{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType2"),dataValue:2},{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType3"),dataValue:3},{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType4"),dataValue:4},{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType5"),dataValue:5},{dataCode:"CHANNEL_TYPE",dataName:$t("routerMenu.channelType6"),dataValue:6}];return e},columns:function(){var e=this,t=[{title:$t("routerMenu.orderNumbNer"),type:"index",minWidth:80,align:"center"},{title:$t("routerMenu.channelName"),key:"channelName",minWidth:125,align:"center"},{title:$t("routerMenu.channelType"),key:"channelTypeId",minWidth:120,align:"center",render:function(t,r){var a=e.channelTypeList.find((function(e){return e.dataValue===r.row.channelTypeId}));return t("span",a?a.dataName:"")}},{title:$t("routerMenu.mac"),key:"macAddress",minWidth:180,align:"center"},{title:$t("routerMenu.mainContorlIp"),key:"ip",minWidth:145,align:"center"},{title:$t("routerMenu.mainCameraIp"),key:"camera",minWidth:145,align:"center"},{title:$t("routerMenu.minorCameraIp"),key:"camera2",minWidth:145,align:"center"},{title:$t("routerMenu.displayIp"),key:"displayIp",minWidth:130,align:"center"},{title:$t("routerMenu.openGateConfirm"),align:"center",children:[{title:$t("routerMenu.tempCar"),key:"tempWorkPattern",align:"center",width:85,render:function(e,t){return e("div",[1===t.row.tempWorkPattern?e("span",{props:{type:"primary",size:"small"},style:{color:"green"}},$t("routerMenu.yes")):e("span",{props:{type:"primary",size:"small"},style:{color:"red"}},$t("routerMenu.no"))])}},{title:$t("routerMenu.monthCar"),key:"monthWorkPattern",align:"center",width:85,render:function(e,t){return 1===t.row.monthWorkPattern?e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"green"}},$t("routerMenu.yes"))]):e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"red"}},$t("routerMenu.no"))])}},{title:$t("routerMenu.storageCar"),key:"storedWorkPattern",align:"center",width:120,render:function(e,t){return 1===t.row.storedWorkPattern?e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"green"}},$t("routerMenu.yes"))]):e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"red"}},$t("routerMenu.no"))])}},{title:$t("routerMenu.vipCar"),key:"vipWorkPattern",align:"center",width:100,render:function(e,t){return 1===t.row.vipWorkPattern?e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"green"}},$t("routerMenu.yes"))]):e("div",[e("span",{props:{type:"primary",size:"small"},style:{color:"red"}},$t("routerMenu.no"))])}}]},0===this.userInfo.isSensData?{title:$t("routerMenu.operate"),key:"",minWidth:240,align:"center",fixed:"right",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",icon:"md-create"},style:{margin:"3px 5px"},on:{click:function(){e.edit(r.row)}}},$t("routerMenu.edit")),t("Button",{props:{type:"success",size:"small",icon:"md-log-out"},style:{margin:"3px 5px"},on:{click:function(){e.clean(r.row)}}},$t("routerMenu.untie")),t("Button",{props:{loading:e.$store.state.loadingList[r.index],type:"error",size:"small",icon:"md-close"},style:{margin:"3px 5px"},on:{click:function(){e.remove(r.row,r.index)}}},$t("routerMenu.delete")),t("Button",{props:{loading:e.$store.state.loadingList[r.index],disabled:!r.row.channelTypeId||!r.row.channelName,type:"info",size:"small",icon:"md-camera"},style:{margin:"3px 5px"},on:{click:function(){e.remote(r.row,r.index)}}},$t("routerMenu.remote")),2==r.row.channelTypeId||4==r.row.channelTypeId||6==r.row.channelTypeId?t("Button",{props:{loading:e.$store.state.loadingList[r.index],type:"warning",size:"small"},on:{click:function(){e.handlePay(r.row,r.index)}}},$t("routerMenu.pay")):""])}}:{title:" ",minWidth:0,maxWidth:0}];if(1==this.parkModel){var r=t.findIndex((function(e){return"ip"===e.key}));t.splice(r,1)}return t}},methods:{init:function(e){this.searchType=e,this.getChannelList(),this.getParkData()},changePage:function(e){this.searchForm.pageNum=e,this.init(2)},changePageSize:function(e){this.searchForm.pageNum=1,this.searchForm.pageSize=e,this.init(2)},getChannelList:function(){var e=Object(i.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.searchForm.searchType=this.searchType,e.next=3,l.a.channelFind(this.searchForm);case 3:return t=e.sent,e.next=6,l.a.channelStatusReport();case 6:r=e.sent,t&&(this.data=t.data.list,this.total=t.data.total,this.data.map((function(e){var t=r.dataList.findIndex((function(t){return e.macAddress===t.mac}));return e.isLine=!!r.dataList[t]&&r.dataList[t].isLine,e})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getParkData:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getCarParams();case 2:(t=e.sent)&&(this.cameraType=parseInt(t.data.CAM_TYPE));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),handleSearch:function(){this.searchForm.pageNum=1,this.init(2)},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"===e.order&&(this.searchForm.order=""),this.init()},handleReset:function(){this.resetSearchForm(),this.searchForm.pageNum=1,this.searchForm.pageSize=20,this.init(2)},resetSearchForm:function(){this.$refs.searchForm.resetFields()},edit:function(e){this.$refs.chanEdit.edit(e)},clean:function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$Modal.confirm({title:$t("routerMenu.confirmUnbinding"),content:$t("routerMenu.confirmUnbindingSelect")});case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return this.$store.commit("loadingList",r),e.next=7,l.a.cleanChannelBing({mac:t.macAddress},"form-non");case 7:(a=e.sent)&&(this.$Message.success(a.msg),this.init(2));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),remove:function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$Modal.confirm({title:$t("routerMenu.confirmDeletion"),content:$t("routerMenu.confirmDeleteSelected")});case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return this.$store.commit("loadingList",r),e.next=7,l.a.channelDelete({id:t.id},"form-non");case 7:(a=e.sent)&&(this.$Message.success(a.msg),this.init(2));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),remote:function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a,n,i,o,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ip||t.camera){e.next=4;break}return a="http://".concat(t.ip),window.open(a),e.abrupt("return");case 4:0===this.cameraType?(n="http://".concat(t.camera),t.isLine?window.open(n):this.$Message.error(this.$t("routerMenu.offLine"))):1===this.cameraType?(i="http://".concat(t.camera),t.isLine?window.open(i):this.$Message.error(this.$t("routerMenu.offLine"))):2===this.cameraType?(o="http://".concat(t.camera),t.isLine?window.open(o):this.$Message.error(this.$t("routerMenu.offLine"))):3===this.cameraType?(l="http://".concat(t.camera),t.isLine?window.open(l):this.$Message.error(this.$t("routerMenu.offLine"))):4===this.cameraType&&(c="http://".concat(t.camera),t.isLine?window.open(c):this.$Message.error(this.$t("routerMenu.offLine")));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),getChanelList:function(){var e=Object(i.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.getParams({code:"PARK_MODEL"},"form-non").then((function(e){e&&(t.parkModel=e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),showSelect:function(e,t){this.selectList=e},channelParametersModalClick:function(e){this.$refs.channelParametersModal.showModal(e)},add:function(){this.$refs.chanEdit.add(null,this.channelTypeList)},handlePay:function(e){this.$refs.payModal.showModal(e)}},mounted:function(){this.getChanelList(),this.init(1)}}),x=Object(u.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"i-table-no-border selection x-ivu-header-border"},[r("div",{staticClass:"pageHeader"},[r("h4",[e._v(e._s(e.$t("routerMenu.channelSettings")))]),0===e.userInfo.isSensData?r("div",{staticClass:"buttons"},[r("Button",{attrs:{type:"info",icon:"md-settings",loading:e.$store.state.loading},on:{click:e.channelParametersModalClick}},[e._v(e._s(e.$t("routerMenu.channelParameterSettings")))]),r("Button",{attrs:{type:"success",icon:"md-add",loading:e.$store.state.loading},on:{click:e.add}},[e._v(e._s(e.$t("routerMenu.add")))])],1):e._e()]),r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[r("Table",{ref:"table",class:"",attrs:{loading:e.$store.state.loading,height:e.data.length>=11?520:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-current-change":e.showSelect}}),r("div",{staticClass:"ivu-mt ivu-text-center"},[r("Page",{attrs:{current:e.searchForm.pageNum,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[20,50,100],"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),r("channel-edit",{ref:"chanEdit",attrs:{parkModel:e.parkModel,channelTypeList:e.channelTypeList},on:{init:e.init}}),r("channel-parameters-set",{ref:"channelParametersModal"}),r("pay-edit",{ref:"payModal"})],1)}),[],!1,null,null,null);t.default=x.exports},d160:function(e,t,r){"use strict";function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",r=t.length,a="",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*r));return a}r.d(t,"a",(function(){return a}))}}]);